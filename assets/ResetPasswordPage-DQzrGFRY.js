import{c as S,r,h as C,q as k,j as e,a as A,A as R,C as E}from"./index-DDPWc_ZQ.js";import{S as M}from"./SEO-BeZmPqYZ.js";import{L as m}from"./lock-DiOKqcWd.js";import{E as u}from"./eye-Dk-gwyaQ.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=S("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),F=()=>{const[s,g]=r.useState(""),[a,p]=r.useState(""),[c,b]=r.useState(!1),[n,w]=r.useState(!1),[i,l]=r.useState(""),[j,N]=r.useState(!1),[h,x]=r.useState(!1),{updatePassword:y}=C(),v=k(),o=(t=>t.length===0?{strength:0,label:"",color:""}:t.length<6?{strength:1,label:"Weak",color:"text-red-600"}:t.length<10?{strength:2,label:"Fair",color:"text-yellow-600"}:t.length>=10&&/[A-Z]/.test(t)&&/[0-9]/.test(t)?{strength:3,label:"Strong",color:"text-green-600"}:{strength:2,label:"Fair",color:"text-yellow-600"})(s),P=async t=>{if(t.preventDefault(),l(""),s!==a){l("Passwords do not match");return}if(s.length<6){l("Password must be at least 6 characters long");return}x(!0);try{const{error:d}=await y(s);if(d){l(d.message);return}N(!0),setTimeout(()=>{v("/login")},3e3)}catch{l("An unexpected error occurred")}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-ivory-50 via-ochre-50 to-ivory-100 flex items-center justify-center px-4 py-12",children:[e.jsx(M,{title:"Reset Your Password | MitthuuG",description:"Create a new password for your MitthuuG account.",keywords:"reset password, new password, change password"}),e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-ochre-500 to-ochre-600 rounded-full mb-4",children:e.jsx(A,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-playfair font-bold text-chocolate-900 mb-3",children:"Reset Password"}),e.jsx("p",{className:"text-chocolate-600",children:"Choose a strong password for your account"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 border-2 border-ochre-100",children:[i&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start space-x-3",children:[e.jsx(R,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800 font-medium",children:i})]}),j?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(E,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-playfair font-bold text-chocolate-900 mb-3",children:"Password Reset Successful!"}),e.jsx("p",{className:"text-chocolate-600 mb-6",children:"Your password has been updated successfully."}),e.jsx("p",{className:"text-sm text-chocolate-500",children:"Redirecting to login page..."})]}):e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-chocolate-900 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-ochre-500"}),e.jsx("input",{type:c?"text":"password",required:!0,value:s,onChange:t=>g(t.target.value),className:"w-full pl-12 pr-12 py-3 border-2 border-ochre-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-ochre-500 focus:border-transparent transition-all",placeholder:"At least 6 characters"}),e.jsx("button",{type:"button",onClick:()=>b(!c),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-chocolate-400 hover:text-chocolate-600",children:c?e.jsx(f,{className:"w-5 h-5"}):e.jsx(u,{className:"w-5 h-5"})})]}),s&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsx("span",{className:`text-xs font-medium ${o.color}`,children:o.label})}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full transition-all ${o.strength===1?"bg-red-600 w-1/3":o.strength===2?"bg-yellow-600 w-2/3":"bg-green-600 w-full"}`})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-chocolate-900 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-ochre-500"}),e.jsx("input",{type:n?"text":"password",required:!0,value:a,onChange:t=>p(t.target.value),className:"w-full pl-12 pr-12 py-3 border-2 border-ochre-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-ochre-500 focus:border-transparent transition-all",placeholder:"Re-enter your password"}),e.jsx("button",{type:"button",onClick:()=>w(!n),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-chocolate-400 hover:text-chocolate-600",children:n?e.jsx(f,{className:"w-5 h-5"}):e.jsx(u,{className:"w-5 h-5"})})]}),a&&s!==a&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Passwords do not match"})]}),e.jsxs("div",{className:"bg-ochre-50 border-2 border-ochre-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs font-bold text-chocolate-900 mb-2",children:"Password must contain:"}),e.jsxs("ul",{className:"text-xs text-chocolate-700 space-y-1",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.length>=6?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{children:"At least 6 characters"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.length>=10?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{children:"10+ characters recommended"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${/[A-Z]/.test(s)?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{children:"Uppercase letters recommended"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${/[0-9]/.test(s)?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{children:"Numbers recommended"})]})]})]}),e.jsx("button",{type:"submit",disabled:h||s!==a,className:"w-full bg-gradient-to-r from-ochre-500 to-ochre-600 text-white py-4 rounded-full hover:from-ochre-600 hover:to-ochre-700 transition-all duration-300 shadow-lg hover:shadow-xl font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:h?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting..."]}):"Reset Password"})]})]})]})]})};export{F as default};
