import{c as x,E as N,r as n,j as e,G as i,F as y}from"./index-DDPWc_ZQ.js";import{S as v}from"./SEO-BeZmPqYZ.js";import{U as w}from"./users-DyaOR2bC.js";import{T as C}from"./trending-up-DN8dAK3T.js";import{A as k}from"./award-8QZDTtoq.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=x("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=x("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Y=()=>{const{referralCodes:r,referrals:a,stats:s,loading:h,createReferralCode:m,shareReferralLink:b,getReferralLink:f}=N(),[u,l]=n.useState(!1),[c,o]=n.useState(10),p=async()=>{await m(c),l(!1),o(10)},j=t=>{const g=f(t);navigator.clipboard.writeText(g)};return h?e.jsx("div",{className:"min-h-screen pt-20 bg-ivory flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-ochre mx-auto mb-4"}),e.jsx("p",{className:"text-chocolate-600",children:"Loading referral program..."})]})}):e.jsxs("div",{className:"min-h-screen pt-20 bg-ivory",children:[e.jsx(v,{title:"Referral Program - MitthuuG",description:"Refer friends and earn rewards"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-ochre to-gold rounded-full mb-4",children:e.jsx(i,{size:40,className:"text-white"})}),e.jsx("h1",{className:"text-4xl font-playfair font-bold text-chocolate-900 mb-4",children:"Refer & Earn Rewards"}),e.jsx("p",{className:"text-lg text-chocolate-600 max-w-2xl mx-auto",children:"Share the sweetness! Refer friends to MitthuuG and both of you get rewarded."})]}),s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-chocolate-200 text-center",children:[e.jsx(w,{className:"mx-auto mb-3 text-ochre",size:32}),e.jsx("div",{className:"text-3xl font-bold text-chocolate-900 mb-1",children:s.total_referrals}),e.jsx("div",{className:"text-sm text-chocolate-600",children:"Total Referrals"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-chocolate-200 text-center",children:[e.jsx(C,{className:"mx-auto mb-3 text-green-600",size:32}),e.jsx("div",{className:"text-3xl font-bold text-chocolate-900 mb-1",children:s.completed_referrals}),e.jsx("div",{className:"text-sm text-chocolate-600",children:"Completed"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-chocolate-200 text-center",children:[e.jsx(k,{className:"mx-auto mb-3 text-gold",size:32}),e.jsxs("div",{className:"text-3xl font-bold text-chocolate-900 mb-1",children:["₹",s.total_earnings.toFixed(2)]}),e.jsx("div",{className:"text-sm text-chocolate-600",children:"Total Earnings"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-chocolate-200 text-center",children:[e.jsx(d,{className:"mx-auto mb-3 text-blue-600",size:32}),e.jsx("div",{className:"text-3xl font-bold text-chocolate-900 mb-1",children:s.total_code_uses}),e.jsx("div",{className:"text-sm text-chocolate-600",children:"Code Uses"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 mb-12 border-2 border-chocolate-200",children:[e.jsx("h2",{className:"text-2xl font-playfair font-bold text-chocolate-900 mb-6",children:"How It Works"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-ochre text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold",children:"1"}),e.jsx("h3",{className:"font-bold text-chocolate-900 mb-2",children:"Create Your Code"}),e.jsx("p",{className:"text-chocolate-600 text-sm",children:"Generate your unique referral code and share it with friends"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-ochre text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold",children:"2"}),e.jsx("h3",{className:"font-bold text-chocolate-900 mb-2",children:"Friends Get Discount"}),e.jsx("p",{className:"text-chocolate-600 text-sm",children:"Your friends get 10% off on their first order"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-ochre text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold",children:"3"}),e.jsx("h3",{className:"font-bold text-chocolate-900 mb-2",children:"You Earn Rewards"}),e.jsx("p",{className:"text-chocolate-600 text-sm",children:"Get 10% of their order value as reward credit"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 mb-8 border-2 border-chocolate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-playfair font-bold text-chocolate-900",children:"Your Referral Codes"}),e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-ochre text-white px-6 py-3 rounded-lg hover:bg-ochre-600 transition-colors",children:[e.jsx(y,{size:20}),"Create New Code"]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(i,{size:64,className:"mx-auto text-chocolate-300 mb-4"}),e.jsx("p",{className:"text-chocolate-600 mb-4",children:"You haven't created any referral codes yet"}),e.jsx("button",{onClick:()=>l(!0),className:"inline-block bg-ochre text-white px-8 py-3 rounded-lg hover:bg-ochre-600 transition-colors",children:"Create Your First Code"})]}):e.jsx("div",{className:"space-y-4",children:r.map(t=>e.jsx("div",{className:"border-2 border-chocolate-200 rounded-xl p-6 hover:border-ochre transition-all",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-3xl font-bold font-mono text-ochre",children:t.code}),t.is_active?e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full",children:"Active"}):e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-semibold rounded-full",children:"Inactive"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-chocolate-600",children:[e.jsxs("span",{children:["Discount: ",e.jsxs("strong",{children:[t.discount_percentage,"%"]})]}),e.jsxs("span",{children:["Uses: ",e.jsxs("strong",{children:[t.current_uses,t.max_uses?`/${t.max_uses}`:""]})]}),t.expires_at&&e.jsxs("span",{children:["Expires: ",e.jsx("strong",{children:new Date(t.expires_at).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>j(t.code),className:"flex items-center gap-2 px-4 py-2 border-2 border-chocolate-200 text-chocolate-700 rounded-lg hover:bg-chocolate-50 transition-colors",title:"Copy Link",children:[e.jsx(R,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Copy Link"})]}),e.jsxs("button",{onClick:()=>b(t.code),className:"flex items-center gap-2 px-4 py-2 bg-ochre text-white rounded-lg hover:bg-ochre-600 transition-colors",title:"Share",children:[e.jsx(d,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]})]})},t.id))})]}),a.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 border-2 border-chocolate-200",children:[e.jsx("h2",{className:"text-2xl font-playfair font-bold text-chocolate-900 mb-6",children:"Your Referrals"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-chocolate-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-chocolate-900 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-chocolate-900 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-chocolate-900 uppercase",children:"Discount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-chocolate-900 uppercase",children:"Your Reward"})]})}),e.jsx("tbody",{className:"divide-y divide-chocolate-200",children:a.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 text-sm text-chocolate-600",children:new Date(t.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${t.status==="completed"?"bg-green-100 text-green-700":t.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:t.status})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-chocolate-600",children:[t.referred_discount_amount,"%"]}),e.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-green-600",children:["₹",t.referrer_reward_amount.toFixed(2)]})]},t.id))})]})})]})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-playfair font-bold text-chocolate-900 mb-4",children:"Create Referral Code"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-chocolate-700 mb-2",children:"Discount Percentage"}),e.jsx("input",{type:"number",min:"1",max:"50",value:c,onChange:t=>o(Number(t.target.value)),className:"w-full px-4 py-3 border-2 border-chocolate-200 rounded-lg focus:border-ochre focus:outline-none"}),e.jsx("p",{className:"text-xs text-chocolate-500 mt-1",children:"Your friends will get this discount on their first order"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-6 py-3 border-2 border-chocolate-200 text-chocolate-700 rounded-lg hover:bg-chocolate-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:p,className:"flex-1 px-6 py-3 bg-ochre text-white rounded-lg hover:bg-ochre-600 transition-colors",children:"Create Code"})]})]})})]})};export{Y as default};
